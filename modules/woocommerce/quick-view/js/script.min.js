"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function woostifyQuickViewVariation(){var t=jQuery("#woostify-quick-view-panel .variations_form");t.length&&(void 0!==("undefined"==typeof wc_add_to_cart_variation_params?"undefined":_typeof(wc_add_to_cart_variation_params))&&(t.wc_variation_form(),t.find(".variations select").change()),"function"==typeof woostifyVariationSwatches?woostifyVariationSwatches():void 0!==jQuery.fn.tawcvs_variation_swatches_form&&t.tawcvs_variation_swatches_form())}function woostifyQuickViewSlider(){var e,t=document.getElementById("quick-view-gallery"),o=get_svg_icon("angle-left"),i=get_svg_icon("angle-right");t&&t.classList.contains("quick-view-slider")&&(e=tns({loop:!1,container:"#quick-view-gallery",items:1,mouseDrag:!0,controlsText:[o,i]}),(t=t.closest(".tns-outer").querySelector(".tns-controls")).querySelector('button[data-controls="prev"]').innerHTML=o,t.querySelector('button[data-controls="next"]').innerHTML=i,jQuery(document.body).on("found_variation","form.variations_form",function(t,o){e.goTo("first")}),jQuery(".reset_variations").on("click",function(){e.goTo("first")}))}function woostifyQuickViewClose(){document.documentElement.classList.remove("quick-view-open")}function woostifyQuickView(){var t=document.querySelectorAll(".product-quick-view-btn"),o=document.getElementById("woostify-quick-view-panel"),n=!!o&&o.querySelector(".quick-view-content"),e=!!o&&o.querySelector(".quick-view-close-btn");if(t.length)for(var i=0,c=t.length;i<c;i++)t[i].onclick=function(){var i=this,t=i.getAttribute("data-pid");t!==(!!o&&o.getAttribute("data-view_id"))?(n.innerHTML="",document.documentElement.classList.add("quick-view-open","quick-viewing"),document.body.addEventListener("keyup",function(t){27===t.keyCode&&woostifyQuickViewClose()}),e.addEventListener("click",function(){woostifyQuickViewClose()}),o.addEventListener("click",function(t){this===t.target&&woostifyQuickViewClose()}),o.setAttribute("data-view_id",t),t=new Request(woostify_quick_view_data.ajax_url,{method:"POST",body:"action=shop_quick_view&ajax_nonce="+woostify_quick_view_data.ajax_nonce+"&product_id="+t,credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})}),fetch(t).then(function(t){if(200!==t.status)return alert(woostify_quick_view_data.ajax_error),void console.log("Status Code: "+t.status);t.json().then(function(t){document.documentElement.classList.remove("quick-viewing"),n.innerHTML=t.content;var o=i.closest(".product-loop-wrapper").querySelector(".price"),e=n.querySelector(".has-bm-price .price"),e=(o&&e&&(e.innerHTML=o.innerHTML),document.querySelector(".shop-quick-view .woocommerce-review-link"));e&&e.setAttribute("href",t.review_link),"function"==typeof customQuantity&&customQuantity(),woostifyQuickViewSlider(),woostifyQuickViewVariation(),"function"==typeof woostifyCountdownUrgency&&woostifyCountdownUrgency(),"function"==typeof productVariation&&productVariation(".quick-view-images","#woostify-quick-view-panel form.variations_form"),"function"==typeof woostifyAjaxSingleAddToCartButton?woostifyAjaxSingleAddToCartButton():(o=document.querySelector(".quick-view-content form.cart"))&&o.setAttribute("action",""),"function"==typeof woostifyBuyNowProduct&&woostifyBuyNowProduct(!0),"function"==typeof woostifyStockQuantityProgressBar&&setTimeout(function(){woostifyStockQuantityProgressBar()},200)})}).catch(function(t){alert(woostify_quick_view_data.ajax_error),console.log(t)}).finally(function(){var t=new Event("woostify_quickview_displayed",{bubbles:!0});document.dispatchEvent(t)})):document.documentElement.classList.add("quick-view-open")}}document.addEventListener("DOMContentLoaded",function(){woostifyQuickView()});