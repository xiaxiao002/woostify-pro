"use strict";!function(d){d("body").on("click",".btn-index-data",function(t){var a=d(this),e=(a.prop("disabled",!0),{action:"index_data",_ajax_nonce:admin.nonce});d.ajax({type:"GET",url:admin.url,data:e,beforeSend:function(t){d(".index-data .progress").addClass("loading"),a.text("Start Index Data...")},success:function(t){t.data&&(d(".last-index").text(t.data.time),d(".index-total-product").text(t.data.total_product),1<t.data.index_size?function a(e,o){var t={action:"index_data_next",index:e,_ajax_nonce:admin.nonce};d.ajax({type:"GET",url:admin.url,data:t,success:function(t){t.data&&(e+1<=t.data.index_size?a(++e,o):(d(".last-index").text(t.data.time),d(".index-total-product").text(t.data.total_product),o.prop("disabled",!1),d(".index-data .progress").removeClass("loading"),o.text("Index Data Success")))}})}(1,a):(a.prop("disabled",!1),d(".index-data .progress").removeClass("loading"),a.text("Index Data Success")))}})}),d(".btn-close-notice").on("click",function(t){d(this).parents(".woostify-notice").slideUp()}),d(".woostify-custom-field-control").on("click",function(t){d(".custom-fields").slideDown(500);var a=d(this).find("#woostify_add_custom_field");d(a,this).focus()}),d(document).on("click",".field-item",function(t){var a=d(this).data("value"),e=d("#woostify_ajax_search_product_custom_field"),o=e.val(),n=d(this).parents(".custom-field-wrapper").find("#woostify_add_custom_field"),i='<span class="woostify-auto-complete-key"><span class   ="woostify-title">'+a+'</span><span class="btn-woostify-auto-complete-delete ion-close" data-item="'+a+'"></span>',o=o?o.split(","):[];n.val(""),o.includes(a)||(n.before(i),o.push(a),e.val(o))}),d("#woostify_add_custom_field").on("keyup",function(t){setTimeout(function(){var t;t=d("#woostify_add_custom_field").val(),t={action:"find_custom_field",_ajax_nonce:admin.nonce,key:t},d.ajax({type:"GET",url:admin.url,data:t,beforeSend:function(t){d(".custom-fields").html(t)},success:function(t){d(".custom-fields").html(t)}})},500)}),d(document).on("click",".btn-woostify-auto-complete-delete",function(t){t.preventDefault();var t=d("#woostify_ajax_search_product_custom_field"),a=d(this).data("item"),e=(e=t.val())?(e=e.replace(","+a,"")).replace(a,""):[];t.val(e),d(this).parent().remove()})}(jQuery);